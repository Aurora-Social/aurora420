{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Aurora420{% endblock %}</title>
  <link rel="icon" type="image/png" href="{% static 'images/6.png' %}">

  <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'css/all.min.css' %}" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link href="{% static 'css/style.css' %}" rel="stylesheet">
</head>
<body>

<header id="navbar">
  <div class="navbar-container">
    <div class="logo">
        <a href="#">
            <img src="{% static 'images/1.png' %}" alt="Logo">
        </a>
    </div>
    <!-- Hamburger Men√º Butonu (Mobil) -->
    <div class="menu-toggle" onclick="toggleMenu()">
      <i class="fas fa-bars"></i>
    </div>
    <nav class="nav-links">
      <a href="#inicio">Empecemos</a>
      <a href="#beneficios">Beneficios Socios</a>
      <a href="#event-list">Eventos Especiales</a>
      <a href="#contact">Cont√°ctanos</a>
      <div class="lang-switch">
        <a href="/" class="lang-btn">ES</a>
        <a href="/en" class="lang-btn">EN</a>
      </div>
    </nav>
  </div>
</header>

<main>
  {% if messages %}
    <div class="flash-wrapper">
      {% for message in messages %}
        <div class="flash-card {% if message.tags %}{{ message.tags }}{% endif %}">
          <div class="flash-icon">üíå Mensaje</div>
          <div class="flash-text">{{ message }}</div>
        </div>
      {% endfor %}
    </div>
    <script>
      setTimeout(function () {
        const flash = document.querySelector('.flash-wrapper');
        if (flash) {
          flash.style.display = 'none';
        }
      }, 4000);
    </script>
  {% endif %}


  
  {% block content %}{% endblock content %}
</main>


 
<!-- ===== FOOTER ===== -->
<footer class="site-footer">
  <div class="footer-container">
    
    <!-- Izquierda: Logo + Descripci√≥n -->
    <div class="footer-logo">
      <img src="{% static 'images/1.png' %}" alt="Logo de Aurora420" />
      <p class="footer-description">
        Aurora420 es un club social privado ubicado en Tenerife. Ofrecemos un entorno seguro, inclusivo e inspirador para personas entusiastas del cannabis.
      </p>
    </div>

    <!-- Centro: Men√∫ -->
    <div class="footer-links">
      <h4>Club Aurora420</h4>
      <ul>
        <li><a href="#hero">Inicio</a></li>
        <li><a href="#inicio">Comunidad</a></li>
        <li><a href="#beneficios">Beneficios</a></li>
        <li><a href="#event-list">Eventos</a></li>
        <li><a href="#gallery">Galer√≠a</a></li>
        <li><a href="#contact">Contacto</a></li>
      </ul>
    </div>

    <!-- Derecha: Contacto -->
    <div class="footer-contact">
      <h4>üì¨ Contacto</h4>
      
      <p><strong>üìß Correo:</strong> <a href="mailto:info@aurora420.org">info@aurora420.org</a></p>
      <p><strong>üìç Direcci√≥n:</strong> Calle Valois 39 - Puerto de la Cruz, Tenerife, Islas Canarias</p>
      <p><strong>üìû Tel√©fono:</strong> <a href="tel:+34622867665">+34 622 867 665</a></p>
      <p><strong>‚è∞ Horario:</strong><br>Lunes a Domingo: 10:00 AM ‚Äì 10:00 PM</p>

      <!-- Iconos sociales -->
      <div class="footer-social-icon">
        <a href="https://www.instagram.com/aurora420club" class="icon-instagram" target="_blank" title="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
        <a href="mailto:info@aurora420.org?subject=Consulta%20desde%20la%20web%20Aurora420&body=Hola%20Aurora420%2C%0A%0AHe%20visitado%20su%20sitio%20web%20y%20me%20gustar%C3%ADa%20recibir%20m%C3%A1s%20informaci%C3%B3n.%0A%0A%C2%A1Gracias!"
          class="icon-email" title="Correo electr√≥nico">
          <i class="fas fa-envelope"></i>
        </a>
        <a href="https://api.whatsapp.com/send?phone=34622867665&text=Hola%20Aurora420%2C%20he%20visitado%20su%20sitio%20web%20y%20me%20gustar%C3%ADa%20recibir%20m%C3%A1s%20informaci%C3%B3n.%20%C2%A1Gracias!"
          class="icon-whatsapp" target="_blank" rel="noopener" title="WhatsApp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </div>


      <!-- CAMBIO DE IDIOMA: Justo debajo de los iconos -->
      <div class="footer-language">
        <a href="/">ES</a> | <a href="/en/">EN</a>
      </div>
    </div>
  </div>

  <!-- COPYRIGHT INFERIOR -->
  <div class="footer-bottom">
    <p>&copy; 2025 Aurora420. Todos los derechos reservados.</p>
  </div>
</footer>


<!-- Scripts -->
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init({ once: false, duration: 1200, offset: 100 });
</script>

<script>
  (function () {
    const modal = document.getElementById("imageModal");
    const modalImg = document.getElementById("modalImg");
    const closeBtn = modal.querySelector(".close");
    const prevBtn = modal.querySelector(".nav-arrow.prev");
    const nextBtn = modal.querySelector(".nav-arrow.next");
    const counter = document.getElementById("modalCounter");

    const images = Array.from(document.querySelectorAll(".gallery-grid img"));
    let currentIndex = 0;

    // Body scroll kilidi
    const lockScroll = () => document.body.style.overflow = "hidden";
    const unlockScroll = () => document.body.style.overflow = "";

    function showImage(index) {
      if (images.length === 0) return;
      // wrap (sonsuz d√∂ng√º)
      if (index < 0) index = images.length - 1;
      if (index >= images.length) index = 0;
      currentIndex = index;

      const src = images[currentIndex].getAttribute("src");
      const alt = images[currentIndex].getAttribute("alt") || "Gallery image";
      modalImg.src = src;
      modalImg.alt = alt;
      if (counter) counter.textContent = `${currentIndex + 1} / ${images.length}`;
    }

    // Dƒ±≈üarƒ±dan √ßaƒüƒ±rmak i√ßin
    window.openModalAt = function (imgEl) {
      const idx = images.indexOf(imgEl);
      if (idx === -1) return;
      modal.style.display = "block";
      modal.setAttribute("aria-hidden", "false");
      lockScroll();
      showImage(idx);
    };

    function closeModal() {
      modal.style.display = "none";
      modal.setAttribute("aria-hidden", "true");
      unlockScroll();
    }

    function showNext() { showImage(currentIndex + 1); }
    function showPrev() { showImage(currentIndex - 1); }

    // Ok butonlarƒ±
    nextBtn.addEventListener("click", function (e) {
      e.stopPropagation();
      showNext();
    });

    prevBtn.addEventListener("click", function (e) {
      e.stopPropagation();
      showPrev();
    });

    // Kapat (X)
    closeBtn.addEventListener("click", function (e) {
      e.stopPropagation();
      closeModal();
    });

    // Arka plana tƒ±klayƒ±nca kapat (resmin dƒ±≈üƒ±)
    modal.addEventListener("click", function (e) {
      if (e.target === modal) {
        closeModal();
      }
    });

    // Klavye: Esc, ‚Üê, ‚Üí
    document.addEventListener("keydown", function (e) {
      if (modal.style.display === "block") {
        if (e.key === "Escape") closeModal();
        else if (e.key === "ArrowRight") showNext();
        else if (e.key === "ArrowLeft") showPrev();
      }
    });

    // Mobil swipe
    let touchStartX = 0;
    let touchEndX = 0;

    modal.addEventListener("touchstart", function (e) {
      touchStartX = e.changedTouches[0].screenX;
    }, { passive: true });

    modal.addEventListener("touchend", function (e) {
      touchEndX = e.changedTouches[0].screenX;
      const dx = touchEndX - touchStartX;
      // k√º√ß√ºk titremeleri filtrele
      if (Math.abs(dx) > 40) {
        if (dx < 0) showNext();
        else showPrev();
      }
    });
  })();
</script>


<script>
  function toggleMenu() {
    const navLinks = document.querySelector('.nav-links');
    navLinks.classList.toggle('active');
  }

  // T√ºm linklere tƒ±klanƒ±nca men√ºy√º kapat
  document.addEventListener('DOMContentLoaded', function () {
    const navLinks = document.querySelector('.nav-links');
    const navItems = navLinks.querySelectorAll('a');

    navItems.forEach(link => {
      link.addEventListener('click', () => {
        navLinks.classList.remove('active');
      });
    });
  });
</script>

<script>
  let lastScrollTop = 0;
  const navbar = document.getElementById("navbar");

  window.addEventListener("DOMContentLoaded", () => {
    navbar.classList.add("navbar-show", "navbar-transparent");
  });

  window.addEventListener("scroll", function () {
    const currentScroll = window.pageYOffset || document.documentElement.scrollTop;

    if (currentScroll === 0) {
      // Sayfa en √ºstte: g√∂r√ºn√ºr + ≈üeffaf
      navbar.classList.remove("navbar-hide");
      navbar.classList.add("navbar-show", "navbar-transparent");
      navbar.classList.remove("navbar-blur");
    } else if (currentScroll > lastScrollTop) {
      // A≈üaƒüƒ±: gizle
      navbar.classList.remove("navbar-show");
      navbar.classList.add("navbar-hide");
    } else {
      // Yukarƒ±: g√∂ster + blur ekle
      navbar.classList.remove("navbar-hide", "navbar-transparent");
      navbar.classList.add("navbar-show", "navbar-blur");
    }

    lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
  }, false);
</script>

</body>
</html>
